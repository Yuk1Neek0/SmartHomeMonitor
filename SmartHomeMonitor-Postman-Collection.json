{
	"info": {
		"_postman_id": "smart-home-monitor-2025",
		"name": "Smart Home Monitor API Collection",
		"description": "API test collection for Smart Home Environmental Monitor application. This collection demonstrates the RESTful API endpoints that would be used if the application had a backend API server. Currently, the app uses local SQLite storage, but this collection shows the intended API design for future cloud integration.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "12345"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Setup PIN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has success message\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.message).to.include(\"PIN setup successful\");",
									"});",
									"",
									"pm.test(\"Response time is less than 500ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(500);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"pin\": \"1234\",\n    \"confirmPin\": \"1234\"\n}"
						},
						"url": {
							"raw": "http://localhost:5000/api/auth/setup",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"auth",
								"setup"
							]
						},
						"description": "Creates a new 4-digit PIN for user authentication. PIN is hashed with SHA256 + salt before storage."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"pin\": \"1234\",\n    \"confirmPin\": \"1234\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/auth/setup",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"auth",
										"setup"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"PIN setup successful\"\n}"
						}
					]
				},
				{
					"name": "Login with PIN",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response contains auth token\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.token).to.exist;",
									"    ",
									"    // Save token for subsequent requests",
									"    pm.environment.set(\"auth_token\", jsonData.token);",
									"});",
									"",
									"pm.test(\"Session expires in 15 minutes\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.expiresInMinutes).to.eql(15);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"pin\": \"1234\"\n}"
						},
						"url": {
							"raw": "http://localhost:5000/api/auth/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Validates PIN and creates authenticated session. Returns JWT token valid for 15 minutes."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"pin\": \"1234\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/auth/login",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"auth",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n    \"expiresInMinutes\": 15,\n    \"message\": \"Login successful\"\n}"
						},
						{
							"name": "Invalid PIN Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"pin\": \"0000\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/auth/login",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"auth",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"message\": \"Incorrect PIN\",\n    \"attemptsRemaining\": 2\n}"
						}
					]
				},
				{
					"name": "Logout",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Logout successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    ",
									"    // Clear saved token",
									"    pm.environment.unset(\"auth_token\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/auth/logout",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Ends authenticated session and clears session data."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/auth/logout",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"auth",
										"logout"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Logged out successfully\"\n}"
						}
					]
				}
			],
			"description": "Authentication endpoints for PIN-based security using SecureStorage and SHA256 hashing."
		},
		{
			"name": "Sensor Readings",
			"item": [
				{
					"name": "Get All Sensor Readings",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is an array\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Each reading has required fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.length > 0) {",
									"        var reading = jsonData[0];",
									"        pm.expect(reading).to.have.property('readingId');",
									"        pm.expect(reading).to.have.property('deviceId');",
									"        pm.expect(reading).to.have.property('temperature');",
									"        pm.expect(reading).to.have.property('humidity');",
									"        pm.expect(reading).to.have.property('airQuality');",
									"        pm.expect(reading).to.have.property('timestamp');",
									"    }",
									"});",
									"",
									"pm.test(\"Temperature is within valid range\", function () {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.length > 0) {",
									"        pm.expect(jsonData[0].temperature).to.be.within(-50, 50);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/readings",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"readings"
							]
						},
						"description": "Retrieves all sensor readings from the SQLite database."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/readings",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"readings"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"readingId\": 1,\n        \"deviceId\": 1,\n        \"temperature\": 22.5,\n        \"humidity\": 65.0,\n        \"airQuality\": 85,\n        \"timestamp\": \"2025-12-05T10:30:00Z\"\n    },\n    {\n        \"readingId\": 2,\n        \"deviceId\": 1,\n        \"temperature\": 23.1,\n        \"humidity\": 62.5,\n        \"airQuality\": 88,\n        \"timestamp\": \"2025-12-05T11:00:00Z\"\n    }\n]"
						}
					]
				},
				{
					"name": "Get Sensor Reading by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Reading has correct ID\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.readingId).to.eql(1);",
									"});",
									"",
									"pm.test(\"Temperature value exists\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.temperature).to.exist;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/readings/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"readings",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "1"
								}
							]
						},
						"description": "Retrieves a specific sensor reading by its ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/readings/1",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"readings",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"readingId\": 1,\n    \"deviceId\": 1,\n    \"temperature\": 22.5,\n    \"humidity\": 65.0,\n    \"airQuality\": 85,\n    \"timestamp\": \"2025-12-05T10:30:00Z\"\n}"
						}
					]
				},
				{
					"name": "Create Sensor Reading",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Reading created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.readingId).to.exist;",
									"    ",
									"    // Save reading ID for later use",
									"    pm.environment.set(\"created_reading_id\", jsonData.readingId);",
									"});",
									"",
									"pm.test(\"Response time is less than 300ms\", function () {",
									"    pm.expect(pm.response.responseTime).to.be.below(300);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"deviceId\": 1,\n    \"temperature\": 24.5,\n    \"humidity\": 68.0,\n    \"airQuality\": 90\n}"
						},
						"url": {
							"raw": "http://localhost:5000/api/readings",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"readings"
							]
						},
						"description": "Creates a new sensor reading. Timestamp is automatically set to current time."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"deviceId\": 1,\n    \"temperature\": 24.5,\n    \"humidity\": 68.0,\n    \"airQuality\": 90\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/readings",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"readings"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"readingId\": 3,\n    \"message\": \"Sensor reading created successfully\"\n}"
						}
					]
				},
				{
					"name": "Delete Sensor Reading",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Deletion successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.message).to.include(\"deleted\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/readings/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"readings",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{created_reading_id}}"
								}
							]
						},
						"description": "Deletes a sensor reading by ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/readings/3",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"readings",
										"3"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Sensor reading deleted successfully\"\n}"
						}
					]
				}
			],
			"description": "CRUD operations for sensor readings (Temperature, Humidity, Air Quality)."
		},
		{
			"name": "Devices",
			"item": [
				{
					"name": "Get All Devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is an array\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});",
									"",
									"pm.test(\"Each device has required fields\", function () {",
									"    var jsonData = pm.response.json();",
									"    if (jsonData.length > 0) {",
									"        var device = jsonData[0];",
									"        pm.expect(device).to.have.property('deviceId');",
									"        pm.expect(device).to.have.property('deviceName');",
									"        pm.expect(device).to.have.property('location');",
									"        pm.expect(device).to.have.property('isActive');",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/devices",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"devices"
							]
						},
						"description": "Retrieves all registered smart home devices."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/devices",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"devices"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"deviceId\": 1,\n        \"userId\": 1,\n        \"deviceName\": \"Sensor-001\",\n        \"location\": \"Living Room\",\n        \"deviceType\": \"Temperature Sensor\",\n        \"isActive\": true,\n        \"latitude\": 43.653226,\n        \"longitude\": -79.383184,\n        \"registeredAt\": \"2025-12-01T08:00:00Z\"\n    },\n    {\n        \"deviceId\": 2,\n        \"userId\": 1,\n        \"deviceName\": \"Sensor-002\",\n        \"location\": \"Bedroom\",\n        \"deviceType\": \"Multi-Sensor\",\n        \"isActive\": true,\n        \"latitude\": null,\n        \"longitude\": null,\n        \"registeredAt\": \"2025-12-02T09:15:00Z\"\n    }\n]"
						}
					]
				},
				{
					"name": "Create Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Device created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.deviceId).to.exist;",
									"    ",
									"    pm.environment.set(\"created_device_id\", jsonData.deviceId);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"deviceName\": \"Sensor-003\",\n    \"location\": \"Kitchen\",\n    \"deviceType\": \"Multi-Sensor\",\n    \"isActive\": true\n}"
						},
						"url": {
							"raw": "http://localhost:5000/api/devices",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"devices"
							]
						},
						"description": "Registers a new smart home device without GPS coordinates."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"deviceName\": \"Sensor-003\",\n    \"location\": \"Kitchen\",\n    \"deviceType\": \"Multi-Sensor\",\n    \"isActive\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/devices",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"devices"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"deviceId\": 3,\n    \"message\": \"Device registered successfully\"\n}"
						}
					]
				},
				{
					"name": "Create Device with GPS",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Device created with GPS coordinates\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"    pm.expect(jsonData.latitude).to.exist;",
									"    pm.expect(jsonData.longitude).to.exist;",
									"});",
									"",
									"pm.test(\"GPS coordinates are valid\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.latitude).to.be.within(-90, 90);",
									"    pm.expect(jsonData.longitude).to.be.within(-180, 180);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"deviceName\": \"Sensor-004\",\n    \"location\": \"Garage\",\n    \"deviceType\": \"Multi-Sensor\",\n    \"isActive\": true,\n    \"useGPS\": true\n}"
						},
						"url": {
							"raw": "http://localhost:5000/api/devices/gps",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"devices",
								"gps"
							]
						},
						"description": "Registers a new device and automatically captures GPS coordinates using MAUI Essentials Geolocation API."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"deviceName\": \"Sensor-004\",\n    \"location\": \"Garage\",\n    \"deviceType\": \"Multi-Sensor\",\n    \"isActive\": true,\n    \"useGPS\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:5000/api/devices/gps",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"devices",
										"gps"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"deviceId\": 4,\n    \"latitude\": 43.653226,\n    \"longitude\": -79.383184,\n    \"message\": \"Device registered with GPS coordinates\"\n}"
						}
					]
				},
				{
					"name": "Delete Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Deletion successful\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.eql(true);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/devices/:id",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"devices",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{created_device_id}}"
								}
							]
						},
						"description": "Deletes a device by ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/devices/3",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"devices",
										"3"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Device deleted successfully\"\n}"
						}
					]
				}
			],
			"description": "Device management endpoints with GPS tagging support."
		},
		{
			"name": "Statistics",
			"item": [
				{
					"name": "Get Dashboard Statistics",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response has all statistics\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('totalDevices');",
									"    pm.expect(jsonData).to.have.property('totalReadings');",
									"    pm.expect(jsonData).to.have.property('avgTemperature');",
									"    pm.expect(jsonData).to.have.property('avgHumidity');",
									"    pm.expect(jsonData).to.have.property('avgAirQuality');",
									"});",
									"",
									"pm.test(\"Statistics are valid numbers\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.totalDevices).to.be.a('number');",
									"    pm.expect(jsonData.avgTemperature).to.be.a('number');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{auth_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:5000/api/statistics",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"statistics"
							]
						},
						"description": "Retrieves aggregated statistics for the dashboard: device count, reading count, and average sensor values."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "http://localhost:5000/api/statistics",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "5000",
									"path": [
										"api",
										"statistics"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"totalDevices\": 5,\n    \"totalReadings\": 42,\n    \"avgTemperature\": 22.8,\n    \"avgHumidity\": 64.3,\n    \"avgAirQuality\": 87.5\n}"
						}
					]
				}
			],
			"description": "Dashboard statistics and analytics endpoints."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Set base URL if not already set",
					"if (!pm.environment.get('base_url')) {",
					"    pm.environment.set('base_url', 'http://localhost:5000');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test for all requests",
					"pm.test(\"Response has valid JSON\", function () {",
					"    pm.response.to.be.json;",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		}
	]
}
